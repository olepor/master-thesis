\NeedsTeXFormat{LaTeX2e}


\ProvidesPackage{style}[2018/02/16 Custom LaTeX style]


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% PACKAGES %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%% Standalone
\RequirePackage{standalone}


%% Encoding
\RequirePackage[utf8]{inputenx}
\RequirePackage[T1]{fontenc}


%% Fonts and typography
% \RequirePackage{lmodern}           % Latin Modern
% \renewcommand{\sfdefault}{phv}     % Helvetica
% \RequirePackage[scaled]{beramono}  % Bera Mono (Bitstream Vera Sans Mono)
\RequirePackage{libertine}
\usepackage[mathcal]{eucal} %  load a different calligraphic alphabet, Euler
                            %  Script, and change \mathcal to use Zapf's font
\RequirePackage[final]{microtype}  % Improved typography
\RequirePackage{enumitem}          % Format lists
\setlist[itemize]{font = \upshape, before = \leavevmode}
\setlist[enumerate]{font = \upshape, before = \leavevmode}
\setlist[description]{font = \bfseries\sffamily, before = \leavevmode}
\RequirePackage{siunitx}           % Typesetting units
\RequirePackage{listings}          % Typesetting code
\lstset
{
    basicstyle = \ttfamily\footnotesize,
    showstringspaces = false,
    frame = tb
}
\RequirePackage[obeyspaces,
                spaces,
                hyphens]{url}      % Typesetting URLs
\urlstyle{sf}

% Acronyms
\RequirePackage[printonlyused]{acronym}

% Algorithms
\RequirePackage[boxruled]{algorithm2e}

%% Mathematics
\RequirePackage{amssymb}    % Extra symbols
\RequirePackage{amsthm}     % Theorem-like environments
\RequirePackage{thmtools}   % Theorem-like environments, extends amsthm
\RequirePackage{mathtools}  % Fonts and environments for mathematical formulae
\RequirePackage{mathrsfs}   % Script font with \mathscr{}
\RequirePackage{dsfont}     % Double stroke font with \mathds{}
\RequirePackage{cancel}     % Cancel terms with \cancel, \bcancel or \xcancel
\RequirePackage{stmaryrd}   % Brackets

% Optimization problem definition
\RequirePackage[nocomma]{optidef}


%% Graphics
\RequirePackage[dvipsnames,
                svgnames,
                cmyk]{xcolor}     % Pre-defined colors
\RequirePackage{graphicx}         % Tool for importing images
\graphicspath{{figures/}{figures/rrt/}{figures/rrtfunnel}}
\RequirePackage{subcaption}       % Captions in subplots
\RequirePackage{tikz}             % Drawing tool
\usetikzlibrary{shapes.geometric}
\usetikzlibrary{calc}
\usetikzlibrary{intersections}
\usetikzlibrary{decorations.markings}
\usepackage{xinttools} % for the \xintFor***
\RequirePackage{import}
\RequirePackage{slashbox}
\usepackage{dcolumn} % For pretty tables.
	\newcolumntype{d}[1]{D..{#1}}
	\newcommand\mc[1]{\multicolumn{1}{c}{#1}}

%% Organising tools
\RequirePackage{comment}                                 % Multiline comments
\RequirePackage[notref, notcite]{showkeys}               % Labels in margins
\renewcommand{\showkeyslabelformat}[1]
{
    \fbox
    {
        \parbox[t]{0.6\marginparwidth}
        {
            \centering\normalfont\footnotesize\ttfamily
            \path{#1}
        }
    }
}
\RequirePackage[obeyFinal,
                color       = LightGray,
                bordercolor = LightGray,
                textsize    = footnotesize,
                figwidth    = 0.99\linewidth]{todonotes} % Marginal notes


%% Miscellaneous
\RequirePackage{xspace}         % Clever space
\RequirePackage{textcomp}       % Extra symbols
\RequirePackage{multirow}       % Rows spanning multiple lines in tables
\RequirePackage{tablefootnote}  % Footnotes for tables
\RequirePackage{nomencl}        % Nomenclature



%% Bibliography
\RequirePackage[backend    = biber,
                sortcites  = true,
                giveninits = true,
                doi        = false,
                isbn       = false,
                url        = false,
                ]{biblatex}
\DeclareNameAlias{sortname}{family-given}
\DeclareNameAlias{default}{family-given}
\addbibresource{zot.bib}


%% Cross references
\RequirePackage{varioref}
\RequirePackage{hyperref}
\RequirePackage[nameinlink, capitalize, noabbrev]{cleveref}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% MEMOIR SETTINGS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%% Title page
\pretitle{\begin{center}\huge\sffamily\bfseries}


%% Book
\renewcommand*{\printbooktitle}[1]
{
    \hrule\vskip\onelineskip
    \centering\booktitlefont #1
    \vskip\onelineskip\hrule
}
\renewcommand*{\afterbookskip}{\par}
\renewcommand*{\booktitlefont}{\Huge\bfseries\sffamily}
\renewcommand*{\booknamefont}{\normalfont\huge\bfseries\MakeUppercase}


%% Part
\renewcommand*{\printparttitle}[1]
{
    \hrule\vskip\onelineskip
    \centering\parttitlefont #1
    \vskip\onelineskip\hrule
}
\renewcommand*{\afterpartskip}{\par}
\renewcommand*{\parttitlefont}{\Huge\bfseries\sffamily}
\renewcommand*{\partnamefont}{\normalfont\huge\bfseries\MakeUppercase}


%% Chapter
\chapterstyle{demo2}
\renewcommand*{\printchaptername}
{
    \centering\chapnamefont\MakeUppercase{\@chapapp}
}
\renewcommand*{\printchapternum}{\chapnumfont\thechapter\space}
\renewcommand*{\chaptitlefont}{\Huge\bfseries\sffamily\center}


%% Lower level sections
\setsecheadstyle{\Large\bfseries\sffamily\raggedright}
\setsubsecheadstyle{\large\bfseries\sffamily\raggedright}
\setsubsubsecheadstyle{\normalsize\bfseries\sffamily\raggedright}
\setparaheadstyle{\normalsize\bfseries\sffamily\raggedright}
\setsubparaheadstyle{\normalsize\bfseries\sffamily\raggedright}


%% Abstract
\renewcommand{\abstractnamefont}{\sffamily\bfseries}
\renewcommand{\abstracttextfont}{\normalfont\small\noindent\ignorespaces}


%% Table of contents
\setrmarg{3em}
\setpnumwidth{2em}
\addtolength{\cftbooknumwidth}{0.5em}
\addtolength{\cftpartnumwidth}{0.5em}
\addtolength{\cftchapternumwidth}{0.5em}
\addtolength{\cftsectionindent}{0.5em}
\addtolength{\cftsubsectionindent}{0.5em}
\addtolength{\cftsubsubsectionindent}{0.5em}
\addtolength{\cftparagraphindent}{0.5em}
\addtolength{\cftsubparagraphindent}{0.5em}
\maxtocdepth{subsection} % The depth of the table of contents includes.
\setsecnumdepth{subsection} % The depth of the numbered subparagraphs/sections.


%% Header and footer
\pagestyle{ruled}
\makeevenhead{ruled}{\sffamily\leftmark}{}{}
\makeoddhead {ruled}{}{}{\sffamily\rightmark}
\makeevenfoot{ruled}{\sffamily\thepage}{}{}
\makeoddfoot{ruled}{}{}{\sffamily\thepage}

\makepagestyle{chapter}
\makeevenfoot{chapter}{\sffamily\thepage}{}{}
\makeoddfoot{chapter}{}{}{\sffamily\thepage}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%% USER-DEFINED MACROS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%% Environments
\declaretheoremstyle[headfont   = \bfseries\sffamily,
                     notefont   = \normalfont,
                     bodyfont   = \itshape,
                     spaceabove = 6pt,
                     spacebelow = 6pt]{plain}
\declaretheoremstyle[headfont   = \bfseries\sffamily,
                     notefont   = \normalfont,
                     spaceabove = 6pt,
                     spacebelow = 6pt]{definition}
\declaretheorem[style = plain, numberwithin = section]{theorem}
\declaretheorem[style = plain,      sibling = theorem]{corollary}
\declaretheorem[style = plain,      sibling = theorem]{lemma}
\declaretheorem[style = plain,      sibling = theorem]{proposition}
\declaretheorem[style = plain,      sibling = theorem]{observation}
\declaretheorem[style = plain,      sibling = theorem]{conjecture}
\declaretheorem[style = definition, sibling = theorem]{definition}
\declaretheorem[style = definition, sibling = theorem]{example}
\declaretheorem[style = definition, sibling = theorem]{notation}
\declaretheorem[style = remark,     sibling = theorem]{remark}
\crefname{observation}{Observation}{Observations}
\Crefname{observation}{Observation}{Observations}
\crefname{conjecture}{Conjecture}{Conjectures}
\Crefname{conjecture}{Conjecture}{Conjectures}
\crefname{notation}{Notation}{Notations}
\Crefname{notation}{Notation}{Notations}


%% Operators
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\rank}{rank}



%% Delimiters
\DeclarePairedDelimiter{\p}{\lparen}{\rparen}          % Parenthesis
\DeclarePairedDelimiter{\set}{\lbrace}{\rbrace}        % Set
\DeclarePairedDelimiter{\abs}{\lvert}{\rvert}          % Absolute value
\DeclarePairedDelimiter{\norm}{\lVert}{\rVert}         % Norm
\DeclarePairedDelimiter{\ip}{\langle}{\rangle}         % Inner product, ideal
\DeclarePairedDelimiter{\sqb}{\lbrack}{\rbrack}        % Square brackets
\DeclarePairedDelimiter{\ssqb}{\llbracket}{\rrbracket} % Double brackets
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}         % Ceiling
\DeclarePairedDelimiter{\floor}{\lfloor}{\rfloor}      % Floor


%% Sets
\newcommand{\N}{\mathbb{N}}    % Natural numbers
\newcommand{\Z}{\mathbb{Z}}    % Integers
\newcommand{\Q}{\mathbb{Q}}    % Rational numbers
\newcommand{\R}{\mathbb{R}}    % Real numbers
\newcommand{\C}{\mathbb{C}}    % Complex numbers
\newcommand{\A}{\mathbb{A}}    % Affine space
\renewcommand{\P}{\mathbb{P}}  % Projective space


\def \Vectorized{} % Vectorize the math syntax.
%% Vectors
\ifx \Vectorized \undefined
\newcommand{\vect}[1]{#1}
\renewcommand{\a}{a}
\renewcommand{\b}{b}
\renewcommand{\c}{c}
\newcommand{\x}{x}
\newcommand{\y}{y}
\newcommand{\uin}{u}
\newcommand{\w}{w}
% \newcommand{\matr}[1]{\mathbf{#1}} % undergraduate algebra version
\newcommand{\matr}[1]{#1}          % pure math version
%\newcommand{\matr}[1]{\bm{#1}}     % ISO complying version
\else % Vectorize defined.
\newcommand{\vect}[1]{\mathbf{#1}}
\renewcommand{\a}{\mathbf{a}}
\renewcommand{\b}{\mathbf{b}}
\renewcommand{\c}{\mathbf{c}}
\newcommand{\x}{\mathbf{x}}
\newcommand{\y}{\mathbf{y}}
\newcommand{\uin}{\mathbf{u}}
\newcommand{\w}{\mathbf{w}}
\newcommand{\matr}[1]{\mathbf{#1}} % undergraduate algebra version
%\newcommand{\matr}[1]{#1}          % pure math version
%\newcommand{\matr}[1]{\bm{#1}}     % ISO complying versionnewcommand{\w}{\mathbf{w}}
\fi
\newcommand{\0}{\mathbf{0}}
\newcommand{\1}{\mathbf{1}}


%% Miscellaneous
\renewcommand{\qedsymbol}{\(\blacksquare\)}
\newcommand{\ie}{\leavevmode\unskip, i.e.,\xspace}
\newcommand{\eg}{\leavevmode\unskip, e.g.,\xspace}
\newcommand{\dash}{\textthreequartersemdash\xspace}
\newcommand{\TikZ}{Ti\textit{k}Z\xspace}
\newcommand{\matlab}{\textsc{Matlab}\xspace}

%% Thesis specific commands
% \newcommand{\modelworld}{\ifmmode
%   \mathcal{W}
%   else
%   \(\mathcal{W}\)
%   \fi}

\newcommand{\modelworld}{\ensuremath{\mathcal{W}}}
\newcommand{\modelrobot}{\ensuremath{\mathcal{A}}}
\newcommand{\modelobstacle}{\ensuremath{\mathcal{O}}}
\newcommand{\modelactionspace}{U}
\newcommand{\modelconfigurationspace}{\ensuremath{\mathcal{C}}}
\newcommand{\modelconfigurationspacesub}[1]{\ensuremath{\mathcal{C}_{#1}}}
\newcommand{\modelconfigurationspacefree}{\modelconfigurationspacesub{free}}
\newcommand{\modelconfigurationspaceobst}{\modelconfigurationspacesub{obst}}
\newcommand{\funnel}{\textit{Funnel}}
\newcommand{\rrtfunnel}{RRT-Funnel}

% Random variable declarations for the experiments
\newcommand{\randomSpeedVar}{\ensuremath{\mathbf{\omega}}}
\newcommand{\randomPosXVar}{\ensuremath{\mathbf{x}}}
\newcommand{\randomPosYVar}{\ensuremath{{\mathbf{y}}}}
\newcommand{\randomPosThetaVar}{\ensuremath{{\mathbf{\theta}}}}
\newcommand{\randomInputVar}{\ensuremath{{\mathbf{u}}}}

% Optimization problem definitions
\DeclareMathOperator{\vol}{vol}

\endinput
